<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/d3-array@3"></script>
<script src="https://cdn.jsdelivr.net/npm/d3-geo@3"></script>
<script src="https://cdn.jsdelivr.net/npm/d3-geo-projection@4"></script>
<script>
var namespace="http://www.opengis.net/ont/crs/"
var tempsvg=""
var projections={
	"http://www.opengis.net/ont/crs/AiryProjection": d3.geoAiry(),
	"http://www.opengis.net/ont/crs/AitoffProjection": d3.geoAitoff(),
	"http://www.opengis.net/ont/crs/AlbersEqualAreaProjection": d3.geoAlbers(),
	"http://www.opengis.net/ont/crs/ArmadilloProjection":d3.geoArmadillo(),
	"http://www.opengis.net/ont/crs/AugustEpicycloidalProjection":d3.geoAugust(),
	"http://www.opengis.net/ont/crs/AzimuthalEquidistantProjection":d3.geoAzimuthalEquidistant(),
	"http://www.opengis.net/ont/crs/BakerDinomicProjection":d3.geoBaker(),
	"http://www.opengis.net/ont/crs/BerghausStarProjection":d3.geoBerghaus(),
	"http://www.opengis.net/ont/crs/BertinProjection":d3.geoBertin1953(),
	"http://www.opengis.net/ont/crs/BoggsEumorphicProjection":d3.geoBoggs(),
	"http://www.opengis.net/ont/crs/BonneProjection":d3.geoBonne(),
	"http://www.opengis.net/ont/crs/BottomleyProjection":d3.geoBottomley(),
	"http://www.opengis.net/ont/crs/BromleyProjection":d3.geoBromley(),
	"http://www.opengis.net/ont/crs/CollignonProjection":d3.geoCollignon(),
	"http://www.opengis.net/ont/crs/CraigRetroazimuthalProjection":d3.geoCraig(),
	"http://www.opengis.net/ont/crs/CrasterParabolicProjection":d3.geoCraster(),
	"http://www.opengis.net/ont/crs/CylindricalEqualArea":d3.geoCylindricalEqualArea(),
	"http://www.opengis.net/ont/crs/Eckert1Projection":d3.geoEckert1(),
	"http://www.opengis.net/ont/crs/Eckert2Projection":d3.geoEckert2(),
	"http://www.opengis.net/ont/crs/Eckert3Projection":d3.geoEckert3(),	
	"http://www.opengis.net/ont/crs/Eckert4Projection":d3.geoEckert4(),
	"http://www.opengis.net/ont/crs/Eckert5Projection":d3.geoEckert5(),
	"http://www.opengis.net/ont/crs/Eckert6Projection":d3.geoEckert6(),
	"http://www.opengis.net/ont/crs/EisenlohrProjection":d3.geoEisenlohr(),
	"http://www.opengis.net/ont/crs/EquirectangularProjection":d3.geoEquirectangular(),
	"http://www.opengis.net/ont/crs/FaheyProjection":d3.geoFahey(),
	"http://www.opengis.net/ont/crs/FoucautProjection":d3.geoFoucaut(),
	"http://www.opengis.net/ont/crs/FoucautSinusoidalProjection":d3.geoFoucautSinusoidal(),
	"http://www.opengis.net/ont/crs/GilbertTwoWorldPerspectiveProjection":d3.geoGilbert(),
	"http://www.opengis.net/ont/crs/GingeryProjection":d3.geoGingery(),
	"http://www.opengis.net/ont/crs/GinzburgIVProjection":d3.geoGinzburg4(),
	"http://www.opengis.net/ont/crs/GinzburgVProjection":d3.geoGinzburg5(),
	"http://www.opengis.net/ont/crs/GinzburgVIProjection":d3.geoGinzburg6(),
	"http://www.opengis.net/ont/crs/GinzburgVIIIProjection":d3.geoGinzburg8(),
	"http://www.opengis.net/ont/crs/GinzburgIXProjection":d3.geoGinzburg9(),
	"http://www.opengis.net/ont/crs/GnomonicProjection":d3.geoGnomonic(),
	"http://www.opengis.net/ont/crs/GringortenProjection":d3.geoGringorten(),
	"http://www.opengis.net/ont/crs/GuyouProjection":d3.geoGuyou(),
	"http://www.opengis.net/ont/crs/HammerProjection":d3.geoHammer(),
	"http://www.opengis.net/ont/crs/HammerRetroazimuthalProjection":d3.geoHammerRetroazimuthal(),	
	"http://www.opengis.net/ont/crs/HEALPixProjection":d3.geoHealpix(),
	"http://www.opengis.net/ont/crs/HillEucyclicProjection":d3.geoHill(),
	"http://www.opengis.net/ont/crs/GoodeHomolosineProjection":d3.geoHomolosine(),
	"http://www.opengis.net/ont/crs/ToblerHyperellipticalProjection":d3.geoHyperelliptical(),
	"http://www.opengis.net/ont/crs/Kavrayskiy7Projection":d3.geoKavrayskiy7(),
	"http://www.opengis.net/ont/crs/LagrangeProjection": d3.geoLagrange(),
	"http://www.opengis.net/ont/crs/LarriveeProjection": d3.geoLarrivee(),
	"http://www.opengis.net/ont/crs/LaskowskiProjection": d3.geoLaskowski(),
	"http://www.opengis.net/ont/crs/LittrowProjection": d3.geoLittrow(),
	"http://www.opengis.net/ont/crs/LoximuthalProjection": d3.geoLoximuthal(),
	"http://www.opengis.net/ont/crs/MercatorProjection": d3.geoMercator(),
	"http://www.opengis.net/ont/crs/MillerProjection": d3.geoMiller(),
	"http://www.opengis.net/ont/crs/GS50Projection": d3.geoModifiedStereographicGs50(),
	"http://www.opengis.net/ont/crs/MollweideProjection": d3.geoMollweide(),
	"http://www.opengis.net/ont/crs/NaturalEarthProjection": d3.geoNaturalEarth1(),
	"http://www.opengis.net/ont/crs/NaturalEarth2Projection": d3.geoNaturalEarth2(),
	"http://www.opengis.net/ont/crs/NellProjection": d3.geoNellHammer(),
	"http://www.opengis.net/ont/crs/NicolosiGlobularProjection": d3.geoNicolosi(),
	"http://www.opengis.net/ont/crs/OrthographicProjection": d3.geoOrthographic(),
	"http://www.opengis.net/ont/crs/PattersonCylindricalProjection": d3.geoPatterson(),
	"http://www.opengis.net/ont/crs/PolyconicProjection": d3.geoPolyconic()
	"http://www.opengis.net/ont/crs/RectangularPolyconicProjection": d3.geoRectangularPolyconic(),
	"http://www.opengis.net/ont/crs/RobinsonProjection": d3.geoRobinson(),
	
	
	
	
}

function saveTextAsFile(tosave,fileext){
    var a = document.createElement('a');
    a.style = "display: none";  
    var blob= new Blob([tosave], {type:'text/plain'});
    var url = window.URL.createObjectURL(blob);
    var filename = document.getElementById('projselect').value.replace("http://www.opengis.net/ont/crs/","")+"."+fileext;
    a.href = url;
    a.download = filename;
    document.body.appendChild(a);
    a.click();
    setTimeout(function(){
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);  
    }, 1000);
}

function saveSVG(){
	saveTextAsFile(tempsvg,"svg")
	
}

function generateImage(){
	projtype=document.getElementById('projselect').value
    var width = 640;
    var height = 480;
    document.getElementById("projectionview").innerHTML=""
    var svg = d3.select("projectionview").append("svg")
    console.log(projtype)
    /*var projection = d3.geo.mercator()
      .scale(width / 2 / Math.PI)
      //.scale(100)
      .translate([width / 2, height / 2])*/
	projection = projections[projtype]
	console.log(projection)
    var path = d3.geo.path()
      .projection(projection);
    var url = "http://enjalot.github.io/wwsd/data/world/world-110m.geojson";
    d3.json(url, function(err, geojson) {
	  document.getElementById("projectionview").innerHTML="<svg><path d=\""+path(geojson)+"\"></svg>"
	  tempsvg="<svg><path d=\""+path(geojson)+"\"></svg>"
    })
}
</script>
<style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }
    svg { width:100%; height: 100% }
  </style>
</head>
<body>
<h3>Projection SVG Generator using SVG</h3>
Select Projection Type: <select id="projselect" onchange="generateImage()">
<option value="http://www.opengis.net/ont/crs/AiryProjection">Airy Projection</option>
<option value="http://www.opengis.net/ont/crs/AitoffProjection">Aitoff Projection</option>
<option value="http://www.opengis.net/ont/crs/AlbersEqualAreaProjection">Albert Equal-Area Projection</option>
<option value="http://www.opengis.net/ont/crs/ArmadilloProjection">Armadillo Projection</option>
<option value="http://www.opengis.net/ont/crs/AugustEpicycloidalProjection">August Epicycloidal Projection</option>
<option value="http://www.opengis.net/ont/crs/AzimuthalEquidistantProjection">Azimuthal Equidistant Projection</option>
<option value="http://www.opengis.net/ont/crs/BakerDinomicProjection">Baker Dinomic Projection</option>
<option value="http://www.opengis.net/ont/crs/BerghausStarProjection">Berghaus Star Projection</option>
<option value="http://www.opengis.net/ont/crs/BertinProjection">Bertin 1953 Projection</option>
<option value="http://www.opengis.net/ont/crs/BoggsEumorphicProjection">Boggs Eumorphic Projection</option>
<option value="http://www.opengis.net/ont/crs/BonneProjection">Bonne Projection</option>
<option value="http://www.opengis.net/ont/crs/BottomleyProjection">Bottomley Projection</option>
<option value="http://www.opengis.net/ont/crs/BromleyProjection">Bromley Projection</option>
<!--<option value="http://www.opengis.net/ont/crs/ChamberlinTrimetricProjection">Chamberlin Trimetric Projection</option>-->
<option value="http://www.opengis.net/ont/crs/CollignonProjection">Collignon Projection</option>
<option value="http://www.opengis.net/ont/crs/CraigRetroazimuthalProjection">Craig Retroazimuthal Projection</option>
<option value="http://www.opengis.net/ont/crs/CrasterParabolicProjection">Craster Parabolic Projection</option>
<option value="http://www.opengis.net/ont/crs/CylindricalEqualArea">Cylindrical Equal-Area Projection</option>
<option value="http://www.opengis.net/ont/crs/Eckert1Projection">Eckert 1 Projection</option>
<option value="http://www.opengis.net/ont/crs/Eckert2Projection">Eckert 2 Projection</option>
<option value="http://www.opengis.net/ont/crs/Eckert3Projection">Eckert 3 Projection</option>
<option value="http://www.opengis.net/ont/crs/Eckert4Projection">Eckert 4 Projection</option>
<option value="http://www.opengis.net/ont/crs/Eckert5Projection">Eckert 5 Projection</option>
<option value="http://www.opengis.net/ont/crs/Eckert6Projection">Eckert 6 Projection</option>
<option value="http://www.opengis.net/ont/crs/EisenlohrProjection">Eisenlohr Projection</option>
<option value="http://www.opengis.net/ont/crs/EquirectangularProjection">Equirectangular Projection</option>
<option value="http://www.opengis.net/ont/crs/FaheyProjection">Fahey Projection</option>
<option value="http://www.opengis.net/ont/crs/FoucautProjection">Foucaut Projection</option>
<option value="http://www.opengis.net/ont/crs/FoucautSinusoidalProjection">Foucaut Sinusoidal Projection</option>
<option value="http://www.opengis.net/ont/crs/GilbertTwoWorldPerspectiveProjection">Gilbert Two-WOrld Perspective Projection</option>
<option value="http://www.opengis.net/ont/crs/GingeryProjection">Gingery Projection</option>
<option value="http://www.opengis.net/ont/crs/GinzburgIVProjection">Ginzburg 4 Projection</option>
<option value="http://www.opengis.net/ont/crs/GinzburgVProjection">Ginzburg 5 Projection</option>
<option value="http://www.opengis.net/ont/crs/GinzburgVIProjection">Ginzburg 6 Projection</option>
<option value="http://www.opengis.net/ont/crs/GinzburgVIIIProjection">Ginzburg 8 Projection</option>
<option value="http://www.opengis.net/ont/crs/GinzburgIXProjection">Ginzburg 9 Projection</option>
<option value="http://www.opengis.net/ont/crs/GnomonicProjection">Gnomonic Projection</option>
<option value="http://www.opengis.net/ont/crs/GringortenProjection">Gringorten Projection</option>
<option value="http://www.opengis.net/ont/crs/GuyouProjection">Guyou Projection</option>
<option value="http://www.opengis.net/ont/crs/HammerProjection">Hammer Projection</option>
<option value="http://www.opengis.net/ont/crs/HammerRetroazimuthalProjection">Hammer Retroazimuthal Projection</option>
<option value="http://www.opengis.net/ont/crs/HEALPixProjection">Healpix Projection</option>
<option value="http://www.opengis.net/ont/crs/HillEucyclicProjection">Hill Eucyclic Projection</option>
<option value="http://www.opengis.net/ont/crs/GoodeHomolosineProjection">Goode Homolosine Projection</option>
<!--<option value="http://www.opengis.net/ont/crs/HufnagelIProjection">Hufnagel Projection</option>-->
<option value="http://www.opengis.net/ont/crs/ToblerHyperellipticalProjection">Tobler Hyperelliptical Projection</option>
<option value="http://www.opengis.net/ont/crs/Kavrayskiy7Projection">Kavrayskiy VII Projection</option>
<option value="http://www.opengis.net/ont/crs/LagrangeProjection">Lagrange Projection</option>
<option value="http://www.opengis.net/ont/crs/LarriveeProjection">Larrivee Projection</option>
<option value="http://www.opengis.net/ont/crs/LaskowskiProjection">Laskowski Projection</option>
<option value="http://www.opengis.net/ont/crs/LittrowProjection">Littrow Projection</option>
<option value="http://www.opengis.net/ont/crs/LoximuthalProjection">Loximuthal Projection</option>
<option value="http://www.opengis.net/ont/crs/MercatorProjection">Mercator Projection</option>
<option value="http://www.opengis.net/ont/crs/MillerProjection">Miller Projection</option>
<option value="http://www.opengis.net/ont/crs/MollweideProjection">Mollweide Projection</option>
<option value="http://www.opengis.net/ont/crs/NaturalEarthProjection">Natural Earth Projection</option>
<option value="http://www.opengis.net/ont/crs/NaturalEarth2Projection">Natural Earth II Projection</option>
<option value="http://www.opengis.net/ont/crs/NellProjection">Nell-Hammer Projection</option>
<option value="http://www.opengis.net/ont/crs/NicolosiGlobularProjection">Nicolosi Globular Projection</option>
<option value="http://www.opengis.net/ont/crs/OrthographicProjection">Orthographic Projection</option>
<option value="http://www.opengis.net/ont/crs/PattersonCylindricalProjection">Patterson Projection</option>
<option value="http://www.opengis.net/ont/crs/PolyconicProjection">Polyconic Projection</option>
<option value="http://www.opengis.net/ont/crs/RectangularPolyconicProjection">Rectangular Polyconic Projection</option>
<option value="http://www.opengis.net/ont/crs/RobinsonProjection">Robinson Projection</option>
</select><button id="downloadButton" onclick="saveSVG()">Download SVG</button>

<div id="projectionview"></div>
<script>
generateImage()
</script>
</body>
</html>